(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{339:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(28),i=n.n(o),s=n(0),l=n.n(s),c=n(71),u=n(45),g=n(298),p=n(151),d=n(62),f=n(299),m=n(300),y=n(180),E=n(21),h=n.n(E),v=n(12),b=n.n(v),T=function(e){if(Number.isInteger(e)){var t=new Date(e/1e4+new Date("0001-01-01T00:00:00Z").getTime());return{date:t,utcDate:("0"+t.getUTCDate()).slice(-2),utcMonth:t.toLocaleString("default",{month:"long"}),utcYear:t.getUTCFullYear().toString()}}return console.log("NULL NULL NULL"),null};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M={data:[],metadata:{},journals:[],accessToken:"",account:{}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACCESS_TOKEN":return x({},e,{accessToken:t.payload});case"SET_ACCOUNT":return x({},e,{account:t.payload});case"SET_METADATA":return x({},e,{metadata:t.payload});case"GET_DATA":return x({},e,{journals:[].concat(h()(e.journals),[t.payload]).sort((function(e,t){return Date.parse(T(Number(t.entrycreateddate)).date)-Date.parse(T(Number(e.entrycreateddate)).date)}))});case"CREATE_DATA":return x({},e,{journals:[].concat(h()(e.journals),[t.payload])});case"UPDATE_DATA":return x({},e,{journals:e.journals.map((function(e){return e.guid===t.payload.guid?t.payload:e}))});case"DOWNLOAD_FILE":case"UPLOAD_FILE":case"DELETE_FILE":break;case"ERROR_GET_METADATA":case"ERROR_GET_DATA":case"ERROR_DOWNLOAD_FILE":case"ERROR_UPLOAD_FILE":case"ERROR_DELETE_FILE":return{state:e};case"LOGOUT":return{data:[],metadata:{},journals:[],accessToken:"",account:{}};case"GET_DEFAULT_DATA":return x({},e,{data:t.payload});case"POST_DEFAULT_DATA":return x({},e,{accessToken:t.payload});default:return e}},C=Object(d.combineReducers)({dataStore:w}),D=function(e,t){return C(e,t)},O=[f.a],S={key:"root",storage:p.a,stateReconciler:y.autoMergeLevel2},j=Object(y.b)(S,D),A=Object(d.createStore)(j,{},Object(m.composeWithDevTools)(d.applyMiddleware.apply(void 0,O))),k=Object(y.c)(A),I=n(217),L=n(16),R=n(338),_=n(9),B=(n(44),n(1104)),N=n(1105),P=n(1106),W=n(295),z=n(1107),U=n(1108),G=n(14),J=n.n(G),H=n(99),V=n.n(H),Y=n(212),K=n(213);function $(e){var t=0;if("undefined"===typeof Symbol||null==e["function"===typeof Symbol?Symbol.iterator:"@@iterator"]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e)))return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e["function"===typeof Symbol?Symbol.iterator:"@@iterator"]()).next.bind(t)}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z=n(460),Q=new Y.Dropbox({fetch:fetch}),X=function(e){return J.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J.a.awrap(Q.filesDownload({path:""+e}));case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),console.log("Error downloading the file \u274e");case 9:case"end":return t.stop()}}),null,null,[[0,6]],Promise)},ee=n(38),te=ee.a.get("window").width,ne=(ee.a.get("window").height,n(10)),re=n(13),ae=n(225),oe=n(116),ie=n(59),se=function(e){var t=e.slice(e.indexOf("?")+1).split("&"),n={};return t.map((function(e){var t=e.split("="),r=i()(t,2),a=r[0],o=r[1];n[a]=decodeURIComponent(o)})),n},le=n(3),ce=function(e){var t=e.height,n=e.width;return l.a.createElement(le.Svg,{width:t,height:n,viewBox:"0 0 484 800",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement(le.Path,{d:"M221.496 480.503C208.992 462.64 182.198 475.668 171.481 456.019C160.763 436.37 219.675 451.682 244.683 432.323C258.473 421.647 260.793 410.839 260.793 398.335C260.793 389.42 185.235 358.814 146.473 321.526C131.526 307.147 121.515 293.508 110.748 282.228C68.4934 237.962 80.1458 272.19 51.7669 217.972C21.7588 160.641 -23.2558 -16.0275 14.2555 71.499C51.7669 159.026 19.6143 119.728 23.1868 98.2928C26.7593 76.8578 17.828 100.079 23.1868 19.6976C28.5456 -60.6839 37.4769 130.921 37.4769 130.921C37.4769 130.921 62.5189 237.584 119.645 251.911C137.354 256.352 152.139 227 154.5 218.5C156.559 211.087 156 177.5 157.156 171.529C158.312 165.559 173 209.863 164 233C157.311 250.197 139.891 273.346 139.891 273.346C139.891 273.346 157.538 294.726 171.481 305.45C204.173 330.596 257.335 352.781 271.476 339.437C294.698 317.527 282.228 276.87 280.408 259.056C278.587 241.242 303.629 316.216 300.056 335.865C296.484 355.514 281.78 355.986 285.766 369.804C290.35 385.693 298.27 382.783 314.346 386.355C330.423 389.928 328.671 269.773 314.346 251.911C300.022 234.048 266.152 167.744 266.152 148.259C266.152 128.774 192.916 62.5189 219.675 78.5952C246.434 94.6715 260.793 121.465 260.793 87.5265C260.793 53.5877 260.793 71.5479 260.793 28.6289C260.793 -14.29 289.373 167.957 289.373 167.957C289.373 167.957 314.506 242.9 339.354 230.476C364.362 217.972 376.9 194.751 376.9 158.977C376.9 123.203 376.865 148.259 371.507 92.9341C366.636 42.6465 397.393 154.634 387.583 192.964C376.865 234.841 357.217 251.911 357.217 251.911C357.217 251.911 344.713 319.788 357.217 339.437C369.72 359.086 380.507 361.511 398.335 345.435C416.163 329.359 403.694 339.552 428.701 316.167C453.709 292.782 403.659 369.804 369.72 393.025C357.508 401.381 364.362 409.101 364.362 430.536C364.362 446.807 385.699 441.45 392.942 456.019C397.026 464.235 401.371 466.307 403.659 475.193C415.59 521.53 507.247 531.059 476.93 568.078C466.69 580.582 455.495 582.949 437.633 586.579C419.77 590.21 339.354 559.147 326.85 568.078C319.19 573.55 323.4 572.776 308.988 598.444C283.914 643.101 273.297 618.093 259.007 660.963C250.446 686.646 235.82 733.052 201.847 746.704C170.933 759.125 123.038 822.833 108.962 791.36C91.099 751.424 35.7251 525.209 85.7403 532.992C135.755 540.775 233.999 498.365 221.496 480.503Z",fill:"#202020"}))};"web"===re.a.OS&&(ie.a.manifest.id="@aneesahammed/"+ie.a.manifest.slug,oe.a());var ue=ne.a.create({button:{margin:2,justifyContent:"center",width:300}}),ge=Object(u.b)(null,{setAccessToken:function(e){return function(t){var n;return J.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return Q.accessToken=e.access_token,t({type:"SET_ACCESS_TOKEN",payload:e.access_token}),r.next=4,J.a.awrap(Q.usersGetAccount({account_id:e.account_id}));case 4:n=r.sent,t({type:"SET_ACCOUNT",payload:n});case 6:case"end":return r.stop()}}),null,null,null,Promise)}}})((function(e){e.navigation;var t=e.setAccessToken;Object(s.useEffect)((function(){}),[]);return l.a.createElement(L.Layout,{style:{flex:1,alignItems:"center",justifyContent:"center"}},l.a.createElement(ce,{height:"100",width:"100"}),l.a.createElement(L.Text,{category:"h1"},"glimpses"),l.a.createElement(L.Text,{appearance:"hint",style:{textAlign:"center",fontWeight:"300",fontSize:17,paddingVertical:12}}," ","Capture your memories ","\n","to remember life.."," "),l.a.createElement(L.Button,{style:ue.button,status:"primary",accessoryLeft:function(e){return l.a.createElement(B.a,{name:"logo-dropbox",size:32,color:"#383838",style:{marginRight:20}})},onPress:function(){var e,n,r,a,o,i;return J.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e="5jtw1f8hfieyk8g",n="",r="","web"!==re.a.OS){s.next=14;break}return console.log("[WEB AUTH]]"),r="https://www.dropbox.com/1/oauth2/authorize?force_reapprove=true&response_type=token&redirect_uri="+(n="http://support.getglimpses.com/glimpses-web/redirect")+"&client_id="+e,s.next=9,J.a.awrap(oe.b(r,n));case 9:a=s.sent,console.log("WEB AUTH::"+JSON.stringify(a)),"success"==a.type&&(o={access_token:(o=se(a.url))[n+"#access_token"],account_id:o.account_id},console.log(JSON.stringify(o)),t(o)),s.next=22;break;case 14:return console.log("[DEVICE AUTH]]"),n=ae.a(),r="https://www.dropbox.com/1/oauth2/authorize?force_reapprove=true&response_type=token&redirect_uri="+n+"&client_id="+e,s.next=19,J.a.awrap(ae.b({authUrl:r}));case 19:i=s.sent,console.log("RESULT OF DEVICE AUTH::"+JSON.stringify(i)),"success"===i.type&&t(i.params);case 22:case"end":return s.stop()}}),null,null,null,Promise)}},"Log in with Dropbox"))})),pe=n(60),de=n(170),fe=n(214),me=n.n(fe),ye=function(e){var t=e.information;return l.a.createElement(L.Layout,{style:{flex:1,alignItems:"center",justifyContent:"center"}},l.a.createElement(L.Text,{appearance:"hint",style:{fontWeight:"300",fontSize:20,textAlign:"center"}},t))},Ee={bgSuccess:"#68D391",bgDanger:"#F56565",favorite:"#FFC044"},he=ne.a.create({container:{flex:1},dateContainer:{flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between"},monthYearWrapper:{alignItems:"flex-end",paddingHorizontal:12}}),ve=function(e){var t=e.item,n=(e.index,e.navigateToDetails),r=[{text:"Delete",component:l.a.createElement(_.a,{style:{flex:1,alignItems:"center",justifyContent:"center"}},l.a.createElement(B.a,{name:"ios-trash",size:24,color:"#fff"})),backgroundColor:Ee.bgDanger,onPress:function(){return console.log("DELETE")}}],a=[];return t.isfavorite?a.push({component:l.a.createElement(_.a,{style:{flex:1,alignItems:"center",justifyContent:"center"}},l.a.createElement(B.a,{name:"ios-star",size:24,color:"#fff"})),backgroundColor:Ee.bgSuccess,onPress:function(){return console.log("UNFAVORITE")}}):a.push({component:l.a.createElement(_.a,{style:{flex:1,alignItems:"center",justifyContent:"center"}},l.a.createElement(B.a,{name:"ios-star-outline",size:24,color:"#fff"})),backgroundColor:Ee.bgSuccess,onPress:function(){return console.log("UNFAVORITE")}}),l.a.createElement(me.a,{autoClose:!0,right:r,left:a},l.a.createElement(L.ListItem,{title:function(){return l.a.createElement(L.Text,{style:{fontSize:18,fontWeight:"700",paddingHorizontal:8}},""+t.title)},description:""+t.richcontent.substring(0,75),onPress:function(){n(t)},accessoryRight:function(){var e=Number(t.entrycreateddate),n=T(e);return l.a.createElement(_.a,{style:he.dateContainer},l.a.createElement(_.a,{style:he.monthYearWrapper},l.a.createElement(L.Text,{category:"s1"},n.utcYear),l.a.createElement(L.Text,{category:"p2",appearance:"hint",style:{fontWeight:"300"}},n.utcMonth)),t.isfavorite?l.a.createElement(L.Text,{style:{color:Ee.favorite},category:"h1"},n.utcDate):l.a.createElement(L.Text,{category:"h1"},n.utcDate))}}))},be=function(e){return e.guid},Te=ne.a.create({container:{flex:1},dateContainer:{flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between"},monthYearWrapper:{alignItems:"flex-end",paddingHorizontal:12}}),Fe=Object(u.b)((function(e){return{journals:e.dataStore.journals}}),{getJournals:function(){return function(e,t){var n,r,a,o,i,s,l,c,u,g,p,d,f,m,y;return J.a.async((function(E){for(;;)switch(E.prev=E.next){case 0:if(E.prev=0,Q.accessToken=t().dataStore.accessToken,console.log("~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"),console.log("<--------------BEGIN-GETSTORE----------------"),n=t().dataStore,console.log(JSON.stringify(V.a.isEmpty(n.metadata)?"NO METADATA":"METADA.ENTRIES::"+n.metadata.entries.length)),console.log("--------------END-GETSTORE----------------\x3e"),!V.a.isEmpty(a)){E.next=14;break}return console.log("getting server metadata..."),E.next=11,J.a.awrap(Q.filesListFolder({path:"",limit:5}));case 11:a=E.sent,E.next=19;break;case 14:return r=n.metadata.cursor,console.log("cursor:"+r),E.next=18,J.a.awrap(Q.filesListFolderContinue({cursor:r}));case 18:a=E.sent;case 19:if(console.log("Metadata entries retrieved.."+a.entries.length),a.entries.sort((function(e,t){return Date.parse(t.server_modified)-Date.parse(e.server_modified)})),a.entries=a.entries.filter((function(e){return"file"===e[".tag"]&e.name.endsWith(".entry")})),o=[],V.a.isEmpty(n.metadata)){E.next=49;break}console.log("<--------------START-COMPARE----------------"),i=n.metadata.entries,s=!1,l=0;case 28:if(!(l<a.entries.length)){E.next=46;break}s=!1,c=a.entries[l],u=0;case 32:if(!(u<i.length)){E.next=42;break}if(g=i[u],c.id!==g.id){E.next=39;break}return s=!0,(p=Date.parse(c.server_modified)-Date.parse(g.server_modified))>0&&(console.log("Adding to entriesToDownload as timestamp difference="+p+"!!"),o=[].concat(h()(o),[c])),E.abrupt("break",42);case 39:u++,E.next=32;break;case 42:s||(o=[].concat(h()(o),[c]));case 43:l++,E.next=28;break;case 46:console.log("--------------END-COMPARE----------------\x3e"),E.next=50;break;case 49:o=a.entries;case 50:e({type:"SET_METADATA",payload:a}),d=function(t){var n,r;return J.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("downloading.."+t.name),a.next=3,J.a.awrap(X(t.path_lower));case 3:n=a.sent,(r=new FileReader).onloadend=function(t){var n=r.result.split(",",2)[1],a=new K.Buffer(n,"base64"),o=Z.Entry.deserializeBinary(new Uint8Array(a));e({type:"GET_DATA",payload:o.toObject()})},r.readAsDataURL(n.fileBlob);case 7:case"end":return a.stop()}}),null,null,null,Promise)},f=$(o);case 53:if((m=f()).done){E.next=59;break}return y=m.value,E.next=57,J.a.awrap(d(y));case 57:E.next=53;break;case 59:E.next=65;break;case 61:return E.prev=61,E.t0=E.catch(0),console.log("error=>"+JSON.stringify(E.t0.error)),E.abrupt("return",{type:"ERROR_GET_METADATA"});case 65:case"end":return E.stop()}}),null,null,[[0,61]],Promise)}}})((function(e){var t=e.navigation,n=e.getJournals,r=e.journals;Object(s.useEffect)((function(){n()}),[]);var a=function(e){t.navigate("Journal-Detail",{journal:e})};return l.a.createElement(pe.a,{style:{flex:1}},l.a.createElement(L.TopNavigation,{title:function(){return l.a.createElement(L.Text,{category:"h4"},"Timeline")},alignment:"center"}),l.a.createElement(L.Divider,null),l.a.createElement(L.Layout,{style:{flex:1}},r.length>0?l.a.createElement(L.List,{style:Te.container,data:r,keyExtractor:be,renderItem:function(e){var t=e.item,n=e.index;return l.a.createElement(ve,{item:t,index:n,navigateToDetails:a})},ItemSeparatorComponent:L.Divider}):l.a.createElement(ye,{information:"No journals are found,\n please press '+' to create new"})))})),xe=n(42),Me=n(50),we=n(328),Ce=n.n(we),De=function(e){return l.a.createElement(L.Icon,a()({},e,{name:"arrow-back"}))},Oe=ne.a.create({container:{flex:1},scrollView:{},title:{paddingTop:20,paddingBottom:0},text:{color:"#505050",fontSize:17,textAlign:"left",lineHeight:25.5,paddingBottom:20,paddingTop:12},h2:{fontSize:24,marginTop:20,marginBottom:8}}),Se=function(e){var t=e.navigation,n=e.route,r=function(){t.goBack()},a=n.params.journal,o=Number(a.entrycreateddate),i=T(o);return l.a.createElement(pe.a,{style:{flex:1}},l.a.createElement(L.TopNavigation,{alignment:"center",accessoryLeft:function(){return l.a.createElement(L.TopNavigationAction,{icon:De,onPress:r})},title:i.utcMonth+" "+i.utcDate+", "+i.utcYear}),l.a.createElement(L.Divider,null),l.a.createElement(L.Layout,{style:{flex:1}},l.a.createElement(xe.a,{style:Oe.scrollView},a.imagedata?l.a.createElement(Me.a,{style:{width:"100%",resizeMode:"cover",height:400},source:{uri:"data:image/png;base64,"+a.imagedata}}):null,l.a.createElement(L.Layout,{style:{paddingHorizontal:20}},a.title?l.a.createElement(_.a,null,l.a.createElement(L.Text,{style:Oe.title,category:"h4"},a.title)):null,l.a.createElement(L.Text,{category:"p1",appearance:"hint",style:{paddingVertical:6}},i.utcMonth+" "+i.utcDate+", "+i.utcYear),l.a.createElement(Ce.a,{useDefaultStyles:!0,markdownStyles:Oe},a.richcontent)))))},je=n(223),Ae=n.n(je);function ke(){var e=Ae()(["\n  align-items: flex-end;\n  padding-right: 12px;\n  padding-left: 12px;\n"]);return ke=function(){return e},e}function Ie(){var e=Ae()(["\n  /* flex: 1; */\n  flex-direction: row;\n  align-items: flex-end;\n  justify-content: space-between;\n"]);return Ie=function(){return e},e}var Le=function(e){return e.guid},Re=ne.a.create({container:{flex:1}}),_e=(de.a.View(Ie()),de.a.View(ke()),Object(u.b)((function(e){return{favorites:e.dataStore.journals.filter((function(e){return!0===e.isfavorite}))}}),{})((function(e){e.navigation;var t=e.favorites;return Object(s.useEffect)((function(){}),[]),l.a.createElement(_.a,{style:{flex:1}},l.a.createElement(L.TopNavigation,{title:"",alignment:"center"}),l.a.createElement(L.Divider,null),t.length>0?l.a.createElement(L.List,{style:Re.container,keyExtractor:Le,data:t,renderItem:function(e){var t=e.item,n=e.index;return l.a.createElement(JournalItem,{item:t,index:n,navigateToDetails:navigateToDetails})},ItemSeparatorComponent:L.Divider}):l.a.createElement(ye,{information:"No favorite journals are found.."}))}))),Be=n(156),Ne=n(77),Pe=function(e){return e.guid},We=ne.a.create({container:{flex:1},image:{justifyContent:"center",minHeight:250},text:{color:"#fff",textAlign:"right",marginRight:12},favText:{color:"gold",textAlign:"right",marginRight:12}}),ze=Object(u.b)((function(e){return{photos:e.dataStore.journals.filter((function(e){return e.imagedata}))}}),{})((function(e){var t=e.navigation,n=e.photos;Object(s.useEffect)((function(){return function(){}}),[]);return l.a.createElement(_.a,{style:{flex:1}},l.a.createElement(L.TopNavigation,{title:"",alignment:"center"}),l.a.createElement(L.Divider,null),n.length>0?l.a.createElement(L.List,{keyExtractor:Pe,data:n,numColumns:2,renderItem:function(e){var n=e.item,r=(e.index,Number(n.entrycreateddate)),a=T(r);return n.imagedata?l.a.createElement(_.a,{style:We.container},l.a.createElement(Ne.a,{onPress:function(){t.navigate("Journal-Detail",{journal:n})}},l.a.createElement(Be.a,{source:{uri:"data:image/png;base64,"+n.imagedata},style:We.image},n.isfavorite?l.a.createElement(L.Text,{category:"h1",style:We.favText},a.utcDate):l.a.createElement(L.Text,{category:"h1",style:We.text},a.utcDate),l.a.createElement(L.Text,{category:"s1",style:[We.text,{fontWeight:"300"}]},a.utcMonth+", "+a.utcYear)))):null}}):l.a.createElement(ye,{information:"No photos to display!"}))})),Ue=n(153),Ge=n(63),Je=l.a.createContext({theme:"light",toggleTheme:function(){}}),He=ne.a.create({container:{flex:1},statistics:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},metrics:{alignItems:"center"}}),Ve=[{icon:"person-outline",title:"Account",description:"Account linked"},{icon:"at-outline",title:"Contact",description:"Contact us"},{icon:"color-palette-outline",title:"About",description:"About us"},{icon:"flash-outline",title:"Theme",description:"Toggle theme"},{icon:"log-out-outline",title:"Logout",description:"Logout & Clear Data"}],Ye=Object(u.b)((function(e){return{journals:e.dataStore.journals}}),{clearAllData:function(){return{type:"LOGOUT"}}})((function(e){var t=e.navigation,n=e.journals,r=e.clearAllData,o=Object(s.useContext)(Je),c=Object(s.useState)(0),u=i()(c,2),g=u[0],p=u[1],d=Object(s.useState)(0),f=i()(d,2),m=f[0],y=f[1],E=Object(s.useState)(0),h=i()(E,2),v=h[0],b=h[1],T=Object(s.useState)(0),F=i()(T,2),x=(F[0],F[1],Object(s.useState)(!1)),M=i()(x,2),w=M[0],C=M[1],D=function(e){C(e),o.toggleTheme()};Object(s.useEffect)((function(){if(n){p(n.length);var e=n.filter((function(e){return e.imagedata}));V.a.size(e)>0?y(e.length):y(0);var t=n.filter((function(e){return e.isfavorite}));V.a.size(t)>0?b(t.length):b(0)}console.log("[settings]::"+g+"::"+m+"::"+v)}),[n]);return l.a.createElement(_.a,{style:{flex:1}},l.a.createElement(L.TopNavigation,{title:"",alignment:"center"}),l.a.createElement(L.Divider,null),l.a.createElement(L.Layout,{style:He.container},l.a.createElement((function(){return l.a.createElement(_.a,{style:{backgroundColor:"",height:"40%",paddingHorizontal:50,justifyContent:"center"}},l.a.createElement(_.a,{style:{backgroundColor:"#9bdcfc",height:60,width:60,borderRadius:30,alignItems:"center",justifyContent:"center",marginBottom:20}},l.a.createElement(B.a,{name:"ios-stats",size:32})),l.a.createElement(_.a,{style:He.statistics},l.a.createElement(_.a,{style:He.metrics},l.a.createElement(L.Text,{category:"label"},"JOURNALS"),l.a.createElement(L.Text,{category:"p1"},g)),l.a.createElement(_.a,{style:He.metrics},l.a.createElement(L.Text,{category:"label"},"PHOTOS"),l.a.createElement(L.Text,{category:"p1"},m)),l.a.createElement(_.a,{style:He.metrics},l.a.createElement(L.Text,{category:"label"},"FAVORITES"),l.a.createElement(L.Text,{category:"p1"},v))))}),null),l.a.createElement(L.Divider,null),l.a.createElement(L.List,{data:Ve,renderItem:function(e){var n=e.item;e.index;return l.a.createElement(L.ListItem,{title:""+n.title,description:""+n.description,accessoryLeft:function(e){return l.a.createElement(L.Icon,a()({fill:"#8F9BB3"},e,{name:n.icon}))},accessoryRight:function(e){return"Theme"===n.title?l.a.createElement(L.Toggle,{checked:w,onChange:D}):l.a.createElement(L.Icon,a()({},e,{fill:"#8F9BB3",name:"chevron-right-outline"}))},onPress:function(){switch(n.title){case"Account":t.navigate("Account");break;case"About":t.navigate("About");break;case"Contact":Ge.a.openURL("mailto:support@getglimpses.com?subject=Hello there&body=");break;case"Logout":if("web"===re.a.OS)return r();Ue.a.alert("LOGOUT","Do you really want to clear data?",[{text:"Cancel",onPress:function(){return console.log("Cancel Pressed")},style:"cancel"},{text:"OK",onPress:function(){console.log("OK Pressed"),console.log("Logout"),r()}}],{cancelable:!0})}}})},ItemSeparatorComponent:L.Divider})))})),Ke=function(e){var t=e.Hint,n=e.Value;return l.a.createElement(l.a.Fragment,null,l.a.createElement(L.Layout,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16}},l.a.createElement(L.Text,{appearance:"hint",category:"s1"},t),l.a.createElement(L.Text,{category:"s1"},n," ")),l.a.createElement(L.Divider,null))},$e=function(e){return l.a.createElement(L.Icon,a()({},e,{name:"arrow-back"}))},qe=Object(u.b)((function(e){return{account:e.dataStore.account}}),{})((function(e){var t=e.navigation,n=e.account,r=function(){t.goBack()};return l.a.createElement(pe.a,{style:{flex:1}},l.a.createElement(L.TopNavigation,{alignment:"center",accessoryLeft:function(){return l.a.createElement(L.TopNavigationAction,{icon:$e,onPress:r})},title:"Profile"}),l.a.createElement(L.Divider,null),l.a.createElement(L.Layout,{style:{flex:1}},l.a.createElement(_.a,{style:{height:"30.3%",alignItems:"center",justifyContent:"center"}},l.a.createElement(_.a,{style:{height:75,width:75,borderRadius:37.5,backgroundColor:"#9bdcfc",alignItems:"center",justifyContent:"center"}},n.profile_photo_url?l.a.createElement(L.Avatar,{source:{uri:n.profile_photo_url},style:{width:74,height:74}}):l.a.createElement(L.Text,{category:"h3"},n.name.abbreviated_name))),l.a.createElement(L.Divider,null),l.a.createElement(xe.a,null,l.a.createElement(Ke,{Hint:"First Name",Value:n.name.given_name}),l.a.createElement(Ke,{Hint:"Last Name",Value:n.name.surname}),l.a.createElement(Ke,{Hint:"Email",Value:n.email}))))})),Ze=function(e){return l.a.createElement(L.Icon,a()({},e,{name:"arrow-back"}))},Qe=ne.a.create({container:{flex:1,justifyContent:"flex-start"}}),Xe=[{icon:"question-mark-circle-outline",title:"FAQ",description:"",url:"https://getglimpses.com/faq.html"},{icon:"at-outline",title:"Terms of Service",description:"",url:"https://getglimpses.com/terms-of-service.html"},{icon:"shield-outline",title:"Privacy Policy",description:"",url:"https://getglimpses.com/privacy.html"},{icon:"twitter-outline",title:"Follow us on Twitter",description:"",url:"twitter://user?screen_name=getglimpses"},{icon:"globe-outline",title:"Website",description:"",url:"https://getglimpses.com"},{icon:"globe-2-outline",title:"Blog",description:"",url:"https://blog.getglimpses.com"},{icon:"navigation-2-outline",title:"Rate us on the Appstore",description:"",url:""}],et=function(e){var t=e.navigation,n=function(){t.goBack()},r=function(e){return l.a.createElement(L.Icon,a()({},e,{fill:"#8F9BB3",name:"chevron-right-outline"}))};return l.a.createElement(pe.a,{style:{flex:1}},l.a.createElement(L.TopNavigation,{alignment:"center",accessoryLeft:function(){return l.a.createElement(L.TopNavigationAction,{icon:Ze,onPress:n})},title:"About glimpses"}),l.a.createElement(L.Divider,null),l.a.createElement(L.Layout,{style:Qe.container},l.a.createElement(_.a,{style:{height:"30.3%",alignItems:"center",justifyContent:"center",marginVertical:20}},l.a.createElement(_.a,{style:{height:72,width:72,borderRadius:36,backgroundColor:"#9bdcfc",alignItems:"center",justifyContent:"center",paddingBottom:6,marginBottom:3}},l.a.createElement(ce,{height:"48",width:"48"})),l.a.createElement(L.Text,{appearance:"hint",category:"p1"},"to remember life..")),l.a.createElement(L.Divider,null),l.a.createElement(L.List,{data:Xe,renderItem:function(e){var t=e.item;e.index;return l.a.createElement(L.ListItem,{title:""+t.title,description:""+t.description,accessoryLeft:function(e){return l.a.createElement(L.Icon,a()({fill:"#8F9BB3"},e,{name:t.icon}))},accessoryRight:r,onPress:function(){var e;e=t.url,J.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("[ABOUT_SCREEN_CLICK]::"+e),!e.includes("twitter")){t.next=15;break}return t.prev=2,t.next=5,J.a.awrap(Ge.a.openURL(e));case 5:return t.abrupt("return",t.sent);case 8:return t.prev=8,t.t0=t.catch(2),t.next=12,J.a.awrap(oe.c("https://twitter.com/getglimpses"));case 12:return t.abrupt("return",t.sent);case 13:t.next=17;break;case 15:return t.next=17,J.a.awrap(oe.c(e));case 17:case"end":return t.stop()}}),null,null,[[2,8]],Promise)}})},ItemSeparatorComponent:L.Divider})))},tt=Object(z.a)(),nt=function(){return l.a.createElement(tt.Navigator,{screenOptions:{headerShown:!1}},l.a.createElement(tt.Screen,{name:"Welcome",component:ge}))},rt=Object(z.a)(),at=function(){return l.a.createElement(rt.Navigator,{headerMode:"none"},l.a.createElement(rt.Screen,{name:"Journal",component:Fe}),l.a.createElement(rt.Screen,{name:"Journal-Detail",component:Se}))},ot=Object(z.a)(),it=function(){return l.a.createElement(ot.Navigator,{headerMode:"none"},l.a.createElement(ot.Screen,{name:"Photos",component:ze}),l.a.createElement(ot.Screen,{name:"Journal-Detail",component:Se}))},st=Object(z.a)(),lt=function(){return l.a.createElement(st.Navigator,{headerMode:"none"},l.a.createElement(st.Screen,{name:"Favorites",component:_e}),l.a.createElement(st.Screen,{name:"Journal-Detail",component:Se}))},ct=(Object(z.a)(),Object(z.a)()),ut=function(){return l.a.createElement(ct.Navigator,{headerMode:"none"},l.a.createElement(ct.Screen,{name:"Settings",component:Ye}),l.a.createElement(ct.Screen,{name:"Account",component:qe}),l.a.createElement(ct.Screen,{name:"About",component:et}))},gt=Object(U.a)(),pt=function(){return l.a.createElement(gt.Navigator,{tabBarOptions:{activeTintColor:"#000000"}},l.a.createElement(gt.Screen,{name:"JOURNAL",component:at,options:{tabBarIcon:function(e){return l.a.createElement(B.a,{name:"md-journal",size:25,color:e.color})}}}),l.a.createElement(gt.Screen,{name:"PHOTOS",component:it,options:{tabBarIcon:function(e){return l.a.createElement(N.a,{name:"atom",size:25,color:e.color})}}}),l.a.createElement(gt.Screen,{name:"FAVORITES",component:lt,options:{tabBarIcon:function(e){return l.a.createElement(B.a,{name:"ios-star-outline",size:25,color:e.color})}}}),l.a.createElement(gt.Screen,{name:"MENU",component:ut,options:{tabBarIcon:function(e){return l.a.createElement(P.a,{name:"sort",size:25,color:e.color})}}}))},dt=Object(u.b)((function(e){return{accessToken:e.dataStore.accessToken}}),{})((function(e){var t=e.accessToken;return Object(s.useEffect)((function(){}),[]),l.a.createElement(W.a,null,t?l.a.createElement(pt,null):l.a.createElement(nt,null))}));n(601),t.a=function(){var e=l.a.useState("light"),t=i()(e,2),n=t[0],r=t[1];return Object(s.useEffect)((function(){}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(L.IconRegistry,{icons:R.EvaIconsPack}),l.a.createElement(Je.Provider,{value:{theme:n,toggleTheme:function(){"light"===n?(r("dark"),c.a.setBarStyle("light-content")):(r("light"),c.a.setBarStyle("dark-content"))}}},l.a.createElement(L.ApplicationProvider,a()({},I,{theme:I[n]}),l.a.createElement(u.a,{store:A},l.a.createElement(g.a,{loading:null,persistor:k},l.a.createElement(dt,null))))))}},347:function(e,t,n){n(348),e.exports=n(1093)},348:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/glimpses-web/expo-service-worker.js",{scope:"/glimpses-web/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},460:function(e,t,n){var r=n(461),a=r,o=Function("return this")();a.exportSymbol("proto.Entry",null,o),a.exportSymbol("proto.Tag",null,o),proto.Entry=function(e){r.Message.initialize(this,e,0,-1,proto.Entry.repeatedFields_,null)},a.inherits(proto.Entry,r.Message),a.DEBUG&&!COMPILED&&(proto.Entry.displayName="proto.Entry"),proto.Tag=function(e){r.Message.initialize(this,e,0,-1,null,null)},a.inherits(proto.Tag,r.Message),a.DEBUG&&!COMPILED&&(proto.Tag.displayName="proto.Tag"),proto.Entry.repeatedFields_=[10],r.Message.GENERATE_TO_OBJECT&&(proto.Entry.prototype.toObject=function(e){return proto.Entry.toObject(e,this)},proto.Entry.toObject=function(e,t){var n,a={guid:null==(n=r.Message.getField(t,1))?void 0:n,entrycreateddate:r.Message.getFieldWithDefault(t,2,0),entrymodifieddate:r.Message.getFieldWithDefault(t,3,0),title:null==(n=r.Message.getField(t,4))?void 0:n,richcontent:null==(n=r.Message.getField(t,5))?void 0:n,clientrevision:r.Message.getFieldWithDefault(t,6,0),imagedata:t.getImagedata_asB64(),clientrev:null==(n=r.Message.getField(t,8))?void 0:n,isfavorite:r.Message.getBooleanFieldWithDefault(t,9,!1),tagsList:r.Message.toObjectList(t.getTagsList(),proto.Tag.toObject,e),latitude:r.Message.getFloatingPointFieldWithDefault(t,11,0),longitude:r.Message.getFloatingPointFieldWithDefault(t,12,0),celcius:r.Message.getFloatingPointFieldWithDefault(t,13,0),fahrenheit:r.Message.getFloatingPointFieldWithDefault(t,14,0),relativehumidity:r.Message.getFloatingPointFieldWithDefault(t,15,0),windspeedinkph:r.Message.getFloatingPointFieldWithDefault(t,16,0)};return e&&(a.$jspbMessageInstance=t),a}),proto.Entry.deserializeBinary=function(e){var t=new r.BinaryReader(e),n=new proto.Entry;return proto.Entry.deserializeBinaryFromReader(n,t)},proto.Entry.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var n=t.readString();e.setGuid(n);break;case 2:n=t.readInt64();e.setEntrycreateddate(n);break;case 3:n=t.readInt64();e.setEntrymodifieddate(n);break;case 4:n=t.readString();e.setTitle(n);break;case 5:n=t.readString();e.setRichcontent(n);break;case 6:n=t.readInt32();e.setClientrevision(n);break;case 7:n=t.readBytes();e.setImagedata(n);break;case 8:n=t.readString();e.setClientrev(n);break;case 9:n=t.readBool();e.setIsfavorite(n);break;case 10:n=new proto.Tag;t.readMessage(n,proto.Tag.deserializeBinaryFromReader),e.addTags(n);break;case 11:n=t.readDouble();e.setLatitude(n);break;case 12:n=t.readDouble();e.setLongitude(n);break;case 13:n=t.readFloat();e.setCelcius(n);break;case 14:n=t.readFloat();e.setFahrenheit(n);break;case 15:n=t.readFloat();e.setRelativehumidity(n);break;case 16:n=t.readFloat();e.setWindspeedinkph(n);break;default:t.skipField()}}return e},proto.Entry.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.Entry.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.Entry.serializeBinaryToWriter=function(e,t){var n=void 0;null!=(n=r.Message.getField(e,1))&&t.writeString(1,n),null!=(n=r.Message.getField(e,2))&&t.writeInt64(2,n),null!=(n=r.Message.getField(e,3))&&t.writeInt64(3,n),null!=(n=r.Message.getField(e,4))&&t.writeString(4,n),null!=(n=r.Message.getField(e,5))&&t.writeString(5,n),null!=(n=r.Message.getField(e,6))&&t.writeInt32(6,n),null!=(n=r.Message.getField(e,7))&&t.writeBytes(7,n),null!=(n=r.Message.getField(e,8))&&t.writeString(8,n),null!=(n=r.Message.getField(e,9))&&t.writeBool(9,n),(n=e.getTagsList()).length>0&&t.writeRepeatedMessage(10,n,proto.Tag.serializeBinaryToWriter),null!=(n=r.Message.getField(e,11))&&t.writeDouble(11,n),null!=(n=r.Message.getField(e,12))&&t.writeDouble(12,n),null!=(n=r.Message.getField(e,13))&&t.writeFloat(13,n),null!=(n=r.Message.getField(e,14))&&t.writeFloat(14,n),null!=(n=r.Message.getField(e,15))&&t.writeFloat(15,n),null!=(n=r.Message.getField(e,16))&&t.writeFloat(16,n)},proto.Entry.prototype.getGuid=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.Entry.prototype.setGuid=function(e){return r.Message.setField(this,1,e)},proto.Entry.prototype.clearGuid=function(){return r.Message.setField(this,1,void 0)},proto.Entry.prototype.hasGuid=function(){return null!=r.Message.getField(this,1)},proto.Entry.prototype.getEntrycreateddate=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.Entry.prototype.setEntrycreateddate=function(e){return r.Message.setField(this,2,e)},proto.Entry.prototype.clearEntrycreateddate=function(){return r.Message.setField(this,2,void 0)},proto.Entry.prototype.hasEntrycreateddate=function(){return null!=r.Message.getField(this,2)},proto.Entry.prototype.getEntrymodifieddate=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.Entry.prototype.setEntrymodifieddate=function(e){return r.Message.setField(this,3,e)},proto.Entry.prototype.clearEntrymodifieddate=function(){return r.Message.setField(this,3,void 0)},proto.Entry.prototype.hasEntrymodifieddate=function(){return null!=r.Message.getField(this,3)},proto.Entry.prototype.getTitle=function(){return r.Message.getFieldWithDefault(this,4,"")},proto.Entry.prototype.setTitle=function(e){return r.Message.setField(this,4,e)},proto.Entry.prototype.clearTitle=function(){return r.Message.setField(this,4,void 0)},proto.Entry.prototype.hasTitle=function(){return null!=r.Message.getField(this,4)},proto.Entry.prototype.getRichcontent=function(){return r.Message.getFieldWithDefault(this,5,"")},proto.Entry.prototype.setRichcontent=function(e){return r.Message.setField(this,5,e)},proto.Entry.prototype.clearRichcontent=function(){return r.Message.setField(this,5,void 0)},proto.Entry.prototype.hasRichcontent=function(){return null!=r.Message.getField(this,5)},proto.Entry.prototype.getClientrevision=function(){return r.Message.getFieldWithDefault(this,6,0)},proto.Entry.prototype.setClientrevision=function(e){return r.Message.setField(this,6,e)},proto.Entry.prototype.clearClientrevision=function(){return r.Message.setField(this,6,void 0)},proto.Entry.prototype.hasClientrevision=function(){return null!=r.Message.getField(this,6)},proto.Entry.prototype.getImagedata=function(){return r.Message.getFieldWithDefault(this,7,"")},proto.Entry.prototype.getImagedata_asB64=function(){return r.Message.bytesAsB64(this.getImagedata())},proto.Entry.prototype.getImagedata_asU8=function(){return r.Message.bytesAsU8(this.getImagedata())},proto.Entry.prototype.setImagedata=function(e){return r.Message.setField(this,7,e)},proto.Entry.prototype.clearImagedata=function(){return r.Message.setField(this,7,void 0)},proto.Entry.prototype.hasImagedata=function(){return null!=r.Message.getField(this,7)},proto.Entry.prototype.getClientrev=function(){return r.Message.getFieldWithDefault(this,8,"")},proto.Entry.prototype.setClientrev=function(e){return r.Message.setField(this,8,e)},proto.Entry.prototype.clearClientrev=function(){return r.Message.setField(this,8,void 0)},proto.Entry.prototype.hasClientrev=function(){return null!=r.Message.getField(this,8)},proto.Entry.prototype.getIsfavorite=function(){return r.Message.getBooleanFieldWithDefault(this,9,!1)},proto.Entry.prototype.setIsfavorite=function(e){return r.Message.setField(this,9,e)},proto.Entry.prototype.clearIsfavorite=function(){return r.Message.setField(this,9,void 0)},proto.Entry.prototype.hasIsfavorite=function(){return null!=r.Message.getField(this,9)},proto.Entry.prototype.getTagsList=function(){return r.Message.getRepeatedWrapperField(this,proto.Tag,10)},proto.Entry.prototype.setTagsList=function(e){return r.Message.setRepeatedWrapperField(this,10,e)},proto.Entry.prototype.addTags=function(e,t){return r.Message.addToRepeatedWrapperField(this,10,e,proto.Tag,t)},proto.Entry.prototype.clearTagsList=function(){return this.setTagsList([])},proto.Entry.prototype.getLatitude=function(){return r.Message.getFloatingPointFieldWithDefault(this,11,0)},proto.Entry.prototype.setLatitude=function(e){return r.Message.setField(this,11,e)},proto.Entry.prototype.clearLatitude=function(){return r.Message.setField(this,11,void 0)},proto.Entry.prototype.hasLatitude=function(){return null!=r.Message.getField(this,11)},proto.Entry.prototype.getLongitude=function(){return r.Message.getFloatingPointFieldWithDefault(this,12,0)},proto.Entry.prototype.setLongitude=function(e){return r.Message.setField(this,12,e)},proto.Entry.prototype.clearLongitude=function(){return r.Message.setField(this,12,void 0)},proto.Entry.prototype.hasLongitude=function(){return null!=r.Message.getField(this,12)},proto.Entry.prototype.getCelcius=function(){return r.Message.getFloatingPointFieldWithDefault(this,13,0)},proto.Entry.prototype.setCelcius=function(e){return r.Message.setField(this,13,e)},proto.Entry.prototype.clearCelcius=function(){return r.Message.setField(this,13,void 0)},proto.Entry.prototype.hasCelcius=function(){return null!=r.Message.getField(this,13)},proto.Entry.prototype.getFahrenheit=function(){return r.Message.getFloatingPointFieldWithDefault(this,14,0)},proto.Entry.prototype.setFahrenheit=function(e){return r.Message.setField(this,14,e)},proto.Entry.prototype.clearFahrenheit=function(){return r.Message.setField(this,14,void 0)},proto.Entry.prototype.hasFahrenheit=function(){return null!=r.Message.getField(this,14)},proto.Entry.prototype.getRelativehumidity=function(){return r.Message.getFloatingPointFieldWithDefault(this,15,0)},proto.Entry.prototype.setRelativehumidity=function(e){return r.Message.setField(this,15,e)},proto.Entry.prototype.clearRelativehumidity=function(){return r.Message.setField(this,15,void 0)},proto.Entry.prototype.hasRelativehumidity=function(){return null!=r.Message.getField(this,15)},proto.Entry.prototype.getWindspeedinkph=function(){return r.Message.getFloatingPointFieldWithDefault(this,16,0)},proto.Entry.prototype.setWindspeedinkph=function(e){return r.Message.setField(this,16,e)},proto.Entry.prototype.clearWindspeedinkph=function(){return r.Message.setField(this,16,void 0)},proto.Entry.prototype.hasWindspeedinkph=function(){return null!=r.Message.getField(this,16)},r.Message.GENERATE_TO_OBJECT&&(proto.Tag.prototype.toObject=function(e){return proto.Tag.toObject(e,this)},proto.Tag.toObject=function(e,t){var n,a={name:null==(n=r.Message.getField(t,1))?void 0:n};return e&&(a.$jspbMessageInstance=t),a}),proto.Tag.deserializeBinary=function(e){var t=new r.BinaryReader(e),n=new proto.Tag;return proto.Tag.deserializeBinaryFromReader(n,t)},proto.Tag.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var n=t.readString();e.setName(n);break;default:t.skipField()}}return e},proto.Tag.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.Tag.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.Tag.serializeBinaryToWriter=function(e,t){var n;null!=(n=r.Message.getField(e,1))&&t.writeString(1,n)},proto.Tag.prototype.getName=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.Tag.prototype.setName=function(e){return r.Message.setField(this,1,e)},proto.Tag.prototype.clearName=function(){return r.Message.setField(this,1,void 0)},proto.Tag.prototype.hasName=function(){return null!=r.Message.getField(this,1)},a.object.extend(t,proto)},601:function(e){e.exports=JSON.parse("{}")}},[[347,1,2]]]);
//# sourceMappingURL=app.ed06744d.chunk.js.map